LinuX Containers are similar to [[/virtualization/OpenVZ]] but it is built into
the mainline kernel. Its not virtualization, per se, but I've categorized it as
such for convenience.

### LXC Howto on [[/Debian]]

#### Set Up and Build Container
<pre class="prettify">
sudo su
echo "cgroup  /var/local/cgroup  cgroup  defaults  0  0" >> /etc/fstab
mkdir /var/local/cgroup
mount -a
apt-get install debootstrap
lxc-create -n mynewspace  -f /usr/share/doc/lxc/examples/lxc-veth.conf -t debian
</pre>

#### Networking
If I'm running a machine with a dedicated network interface, its easy - just set
up a bridge. With a laptop that uses Gnome Network Manager to manage
wireless, its not as straightforward, in fact I haven't found a setup I really
like yet. For now I'm using uml-utilities to create a tap device and
bridge-utils to create a bridge with it, and dnsmasq to offer an IP address to
the container.

<pre class="terminal">
sudo su
apt-get install dnsmasq uml-utils bridge-utils
/usr/sbin/tunctl -t tap0
brctl addbr br0
ifconfig br0 192.168.99.1 netmask 255.255.255.0 up
brctl addif tap0
echo "interface=br0" >> /etc/dnsmasq.conf
echo "dhcp-range=192.168.99.50,192.168.99.150,12h" >> /etc/dnsmasq.conf
/etc/init.d/dnsmasq restart
lxc-start -d -n mynewspace
</pre>

### Questions

* Migration - is there a tool like vzmigrate or vzbackup? As of mid-2011, no.
* [[/NFS]] - OpenVZ occasionally has some issues with NFS, will LXC? My
  expectation is that it should work fine.
* Multiple network interfaces on host - OpenVZ has issues with this too,
  will LXC? I expect this will work, too.
