### UPDATES
'''March 2009''': The [[MySQL]] driver is now included in [[Debian]] - [http://www.docunext.com/blog/2009/03/apache2-mysql-native-authentication.html Apache2 MySQL Native Authentication]

'''June 4, 2008''':
I'm now just trying to add "--with-mysql=/usr" to debian/rules in apr-util:
<pre>
apt-get source apr-util
cd apr...
vim debian/rules
debian/rules binary
</pre>
So far so good, seems to work now. :-)

### Previous Work
I first created this article in 2007, and have since learned more about how to customize and build debian sources, so I'm going to try again. Here's the [[Old Apache DBD Article]].

I followed:
* http://www.holwegner.com/article/448/fixing-debian-etchs-broken-apache-mod_dbd

but used:
<pre>
 wget --no-check-certificate 'http://issues.apache.org/bugzilla/attachment.cgi?id=20479' -O apr.patch
</pre>

and

<pre>
patch -p0 < ./apr.patch
</pre>

and also had to "apt-get build-dep apache2". I'm trying to skip the part where the new mod_dbd.c file is used from trunk.

So far so good, I'll do some more testing tomorrow. I compiled, installed, and restarted. Ack - it isn't working as is, so I just downloaded the newer mod_dbd.c file and am recompiling. Works now - hooray!

### Simple Model
<pre>
CREATE TABLE IF NOT EXISTS `authn` (
 `uid` int(11) NOT NULL auto_increment,
 `username` varchar(255) NOT NULL,
 `password` varchar(255) NOT NULL,
 `realm` varchar(255) NOT NULL,
PRIMARY KEY  (`uid`)
)
</pre>
### Related
* http://httpd.apache.org/docs/2.2/mod/mod_authn_dbd.html
* http://d.hatena.ne.jp/shiftdown/20071115
* http://www.docunext.com/blog/2009/03/apache2-mysql-native-authentication.html

