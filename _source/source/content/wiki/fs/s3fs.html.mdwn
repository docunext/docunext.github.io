#MARKUP markdown

This looks very appealing to me! Its a [[FUSE]]-powered [[filesystem]] that uses Amazon's [[S3]] service for storage.

No debian package for it yet, but it works on [[Debian]] (see link below).

## Trying On Debian GNU/Linux (Squeeze)

<pre class="sh_sh">
apt-get install libfuse-dev
</pre>

Download latest and greatest tarball of the s3fs code, unarchive it, then compile it!

It took some fiddling, but I eventually got it to work. This is the mount command I'm using:

<pre class="sh_sh">
sudo ./s3fs awawppz -o accessKeyId=aaa -o secretAccessKey=bbb -o allow_other /mnt/imports/s3
</pre>

### Problems / Caveats / Issues

* Bucket Name Restrictions - http://docs.amazonwebservices.com/AmazonS3/2006-03-01/index.html?BucketRestrictions.html
* I can't view files uploaded by [[s3cmd]]!

### [[s3cmd]] versus s3fs

<pre class="sh_sh">
s3cmd ls s3://allpersonal/
                       DIR   s3://allpersonal/music-subset/
                       DIR   s3://allpersonal/test-music/
2010-08-05 06:07       326   s3://allpersonal/Makefile
2010-08-05 06:12         0   s3://allpersonal/music-subset
2010-08-05 06:09         0   s3://allpersonal/test-music
</pre>

<pre class="sh_sh">
$ ls -lah /mnt/imports/s3/
total 1.0K
-rw-r--r-- 1 root       root       326 Aug  5 02:07 Makefile
---------- 1 root       root         0 Aug  5 02:12 music-subset
drwxr-xr-x 1 albertlash albertlash   0 Aug  5 02:09 test-music
</pre>

It looks like s3fs is creating an empty file along with the folder, though that empty file only shows up in [[s3cmd]]. I tried touching a file with the same name as the directory which doesn't show in s3fs, but that didn't work.

Indeed! From the s3fs wiki:

<blockquote>the gist of it is that there isn't really a "standard" way to represent an actual folders object in s3; each s3 client makes up their own scheme for representing folder objects</blockquote>

## Links
* http://blog.foaa.de/2009/09/building-fuse-s3fs-debian-package/

Tried to post this comment at foaa.de:

Thanks for sharing your notes. I've been tinkering with s3fs for awhile too and found your page awhile back. Today I returned to get the list of build requirement, which thankfully you have posted. To try and return the favor, I'm commenting to let you know about the typo - it should be build-essential, not build-essentials. Hope that helps, thanks again!

