{"data":{"markdownRemark":{"html":"<p>Lua is a perfect scripting language for quick and lightweight logic - for proxies, middleware applications, and application level routing.</p>\n<p>I wrote this small lua script as a test for redirecting one domain host to another:</p>\n<pre class=\"sh_lua\">\njson = require(\"json\")\ntestString = [[ { \"example.com\": \"example.org\" } ]]\no = json.decode(testString)\ntable.foreach(o,print)\nmyhost = lighty.request[\"Host\"]\nif (o[myhost]) then\n    lighty.header[\"Location\"] = \"http://www.\" .. o[myhost]\n    return 301\nend\n</pre>","frontmatter":{"title":"Some Example Lua Code","date":"2011-02-10T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2011/2011-02-10-some-example-lua-code/"}}