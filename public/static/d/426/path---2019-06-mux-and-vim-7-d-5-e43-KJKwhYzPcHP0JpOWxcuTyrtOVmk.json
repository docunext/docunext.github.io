{"data":{"markdownRemark":{"html":"<p>Phew! I had quite the adventure through an interesting array of tech yesterday,\nand I'm pleased to report I survived, and the prognosis was sucessful (sic).</p>\n<p>In other words, I was able to get debian runnning on Windows 10, via cmder.\nBut... then when using vim within tmux there were all sorts of nasty artifacts\nleft over when scrolling. My first thought it must be wsl related, but I found\nmany reports of tmux and vim having issues.</p>\n<p>I'd seen some confusion surrounding tmux settings before, but the fix was\nusually pretty easy, like telling tmux what type of terminal it should emulate.\nI tried many settings, in tmux, and vim, to no avail, for a couple hours. For\nexample, I tried changing the term from xterm to xterm-256colors to\nscreen-256colors:</p>\n<p><code>set -g default-terminal \"screen-256colors\"</code></p>\n<p>I checked the locale:</p>\n<p><code>set -gq status-utf8 on</code></p>\n<p>And did a <code>dpkg-reconfigure locales</code></p>\n<p>Also tried <code>set ttyfast</code> in vim, and even fiddled with my nvidia card settings.\nNo luck. I love tmux and vim. Not a major deal but its bugged me :-)</p>\n<p>I was able to get to the source of the problem, the underlying TERM setting\nwithin the cygwin terminal of cmder. This is whats working for me:</p>\n<pre><code>if [ \"$SHLVL\" = \"1\" ] &#x26;&#x26; [ \"$is_wsl\" = \"1\" ]; then\n    export TERM=vwmterm\nfi\n</code></pre>\n<p>(the is_wsl comes from a thread I found about standardizing a way to check if\na shell was running in Windows Linux):</p>\n<pre><code>is_wsl=0\nread os &#x3C;/proc/sys/kernel/osrelease || :\nif [[ \"$os\" == *Microsoft ]]; then\n      is_wsl=1\nfi\n</code></pre>\n<p>These resources may help other troubleshooters:</p>\n<ul>\n<li><a href=\"https://github.com/Maximus5/ConEmu/issues/1738\">https://github.com/Maximus5/ConEmu/issues/1738</a></li>\n<li><a href=\"https://github.com/tmux/tmux/wiki/FAQ\">https://github.com/tmux/tmux/wiki/FAQ</a></li>\n<li><a href=\"https://conemu.github.io/en/AnsiEscapeCodes.html\">https://conemu.github.io/en/AnsiEscapeCodes.html</a></li>\n<li><a href=\"https://unix.stackexchange.com/questions/201798/how-to-set-tmux-terminfo-to-screen-256color\">https://unix.stackexchange.com/questions/201798/how-to-set-tmux-terminfo-to-screen-256color</a></li>\n<li><a href=\"https://wiki.archlinux.org/index.php/tmux#Setting_the_correct_term\">https://wiki.archlinux.org/index.php/tmux#Setting<em>the</em>correct_term</a></li>\n</ul>","frontmatter":{"title":"Windows Subsystem Linux, tmux and vim","date":"June 30th, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019/06/mux-and-vim/"}}