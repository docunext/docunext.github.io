{"data":{"markdownRemark":{"html":"<p>This was unfortunately much more difficult than I had hoped. What I wanted to do was supply an absolute path for the asset upload, and have the paths for thumbnails built automatically by MovableType.</p>\n<p>I was able to hack this into being by specifying the static directives as the asset url and path, like this:</p>\n<ul>\n<li>set target static uri in mt-config.cgi</li>\n<li>\n<p>override it in the templates:</p>\n<ul>\n<li>include/archetype_editor.tmpl</li>\n<li>include/header.tmpl</li>\n<li>dialog/header.tmpl</li>\n</ul>\n</li>\n</ul>\n<p>First I tried this, but it wasn't what I wanted:* Edit /usr/share/perl5/MT/Asset.pm line 83:</p>\n<pre class=\"sh_perl\">\n: $1 eq 'r'           ? MT->instance->static_path\n</pre>\n<p>Also line 62.</p>\n<p>ACTUALLY NO - instead changed lines 1004 and 1009 in /usr/share/perl5/MT/CMS/Asset.pm</p>\n<p>to %s instead of %r. This will move only the asset, not the thumbnail.</p>\n<p>I also <a href=\"http://www.beausmith.com/mt/2008/04/default-upload-destination-in-movable-type.php\" rel=\"nofollow\">used this technique to specify the sub-directory of the static directives</a>.</p>\n<p>And <a href=\"http://code.google.com/p/mediaurls/\" rel=\"nofollow\">MediaUrls</a> helps for general media resources.</p>","frontmatter":{"title":"Finally Somewhat Custom Upload Paths for MovableType"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2009/2009-05-31-finally-somewhat-custom-upload-paths-for-movabletype/"}}