{"data":{"markdownRemark":{"html":"<p>Thanks to our special friend <strong>SPAM</strong>, SMTP servers have special requirements. If you are setting up an STMP server, such as Exim, Postfix, or qmail, make sure to have these factors setup correctly:</p>\n<ul>\n<li>Static IP</li>\n<li>SMTP server host name DNS entry</li>\n<li>Reverse DNS entry, aka PTR record, for the static IP</li>\n<li>Matching server name announcement from the SMTP server itself - note bene - <strong>the server name announcement must match the reverse DNS entry</strong></li>\n</ul>\n<p>Here's the actual steps to confirm the DNS and server name components using <em>\"dig\"</em> and <strong>telnet</strong>. I perform these steps on a semi-regular schedule for my primary SMTP server, <strong>vpn-glass.savonix.com</strong>.</p>\n<h4>Static IP for SMTP Domain Record</h4>\n<pre class=\"sh_sh\">\ndig vpn-glass.savonix.com @4.2.2.1\n\n; <<>> DiG 9.7.1-P2 <<>> vpn-glass.savonix.com @4.2.2.1\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 30\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;vpn-glass.savonix.com.\t\tIN\tA\n\n;; ANSWER SECTION:\nvpn-glass.savonix.com.\t28800\tIN\tA\t71.184.118.13\n\n;; Query time: 138 msec\n;; SERVER: 4.2.2.1#53(4.2.2.1)\n;; WHEN: Fri Jan 28 23:05:52 2011\n;; MSG SIZE  rcvd: 55\n</pre>\n<h4>Reverse DNS Lookup</h4>\n<pre class=\"sh_sh\">\n\ndig -x 71.184.118.13\n\n; <<>> DiG 9.7.1-P2 <<>> -x 71.184.118.13\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 43033\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 4, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;13.118.184.71.in-addr.arpa.\tIN\tPTR\n\n;; ANSWER SECTION:\n13.118.184.71.in-addr.arpa. 86400 IN\tPTR\tvpn-glass.savonix.com.\n</pre>\n<h4>SMTP Server Name Announcement</h4>\n<pre class=\"sh_sh\">\ntelnet 71.184.118.13 587\nTrying 71.184.118.13...\nConnected to 71.184.118.13.\nEscape character is '^]'.\n220 vpn-glass.savonix.com ESMTP Postfix (Debian/GNU)\n</pre>\n<p>Yay! Postfix knows its own name, and DNS publishes the correct name for both the hostname and the IP address!!</p>","frontmatter":{"title":"SMTP Servers Reverse DNS Server Name Announcement"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2011/2011-01-28-smtp-servers-reverse-dns-server-name-announcement/"}}