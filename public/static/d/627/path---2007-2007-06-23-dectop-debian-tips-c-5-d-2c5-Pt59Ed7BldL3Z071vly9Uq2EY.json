{"data":{"markdownRemark":{"html":"<h2><strong>Here are some of my notes I took while installing Debian GNU/Linux on the dectop.</strong></h2>\n<p>Edit /etc/default/acpid:</p>\n<pre># Specify options for acpid startup, Debian default is to enable the\n# use of sockets at a non-default position\nOPTIONS=\"-s /var/run/acpid.socket\"\n# Specify modules to load on acpid's startup\n# MODULES may be uncommented to load \"none\", contain the string \"all\"\n# to load all acpi related modules or simply a space seperated list\n# of modules to be probed.#MODULES=\"battery ac processor button fan thermal\"\nMODULES=\"none\"</pre>\n<p>Add to the bottom of /etc/modprobe.d/blacklist (this will remove sound!):</p>\n<pre>\nblacklist snd\nblacklist ipv6\nblacklist snd_cs5535audio\nblacklist snd_ac97_codec\nblacklist snd_pcm\nblacklist snd_timer\nblacklist snd\nblacklist battery\nblacklist pcspkr\nblacklist fan\nblacklist processor\nblacklist thermal</pre>\n<p>Remove device mapper from init scripts:</p>\n<pre>update-rc.d -f libdevmapper1.02 remove</pre>\n<p>Comment out the extra consoles in inittab, leaving one for general console access. Speaking of which, its too bad that the dectop doesn't have an rs232 / db9 serial connector. :-(</p>\n<p>Even though the dectop doesn't have a fan, I've listed \"none\" in the acpid config, and have them blacklisted, fan, thermal, and processor are still loading upon boot. Not sure how to keep them from getting loaded short of stopping acpi altogether Any suggestions?</p>\n<p>With those changes, debian only needs approximately 21MB of ram, leaving up to 80MB of ram for your other stuff!</p>\n<pre># free             total       used       free     shared    buffers     cached\nMem:        106756      21484      85272          0       2664      10828-/+ buffers/cache:       7992      98764\nSwap:       305192          0     305192</pre>\n<pre># ps -A  PID TTY          TIME CMD    1 ?        00:00:04 init    2 ?\n00:00:00 ksoftirqd/0    3 ?\n00:00:00 events/0    4 ?\n00:00:00 khelper    5 ?\n00:00:00 kthread    8 ?\n00:00:00 kblockd/0    9 ?\n00:00:00 kacpid   50 ?\n00:00:00 kseriod   86 ?\n00:00:00 pdflush   87 ?\n00:00:00 pdflush   88 ?\n00:00:00 kswapd0   89 ?\n00:00:00 aio/0  532 ?\n00:00:00 khubd  799 ?\n00:00:00 kjournald  959 ?\n00:00:00 udevd 1200 ?\n00:00:00 kpsmoused 1727 ?\n00:00:00 dhclient3 1741 ?\n00:00:00 syslogd 1747 ?\n00:00:00 klogd 1779 ?\n00:00:00 acpid 1794 ?\n00:00:00 sshd 1811 ?\n00:00:00 cron 1835 tty1\n00:00:00 getty 1842 ?\n00:00:00 sshd 1846 ?\n00:00:00 sshd 1847 pts/0\n00:00:01 bash 1860 pts/0\n00:00:00 su 1861 pts/0\n00:00:00 bash 1864 pts/0\n00:00:00 ps</pre>\n<p>Your could reduce it even more by turning off cron and syslog, but for now I'll keep those around.</p>\n<p>ORIGINAL outputs for comparison:</p>\n<pre># free             total       used       free     shared    buffers     cached\nMem:        106756      23388      83368          0       2796      11320-/+ buffers/cache:       9272      97484\nSwap:       305192          0     305192\n\n# lsmod\nModule                  Size  Used by\nbutton                  6800  0\nac                      5252  0\nbattery                 9732  0\ndm_snapshot            15644  0\ndm_mirror              18000  0\ndm_mod                 48952  2 dm_snapshot,dm_mirror\nloop                   14216  0\ntsdev                   7616  0\nsnd_cs5535audio        13628  0\nsnd_ac97_codec         82848  1 snd_cs5535audio\nsnd_ac97_bus            2432  1 snd_ac97_codec\nrtc                    11572  0\nrtl8150                11648  0\nsnd_pcm                65928  2 snd_cs5535audio,snd_ac97_codec\nsnd_timer              19972  1 snd_pcm\nsnd                    45412  4 snd_cs5535audio,snd_ac97_codec,snd_pcm,snd_timer\nsoundcore               8928  1 snd\nsnd_page_alloc          9736  2 snd_cs5535audio,snd_pcm\nserio_raw               6532  0\ncs5535                  4352  0 [permanent]\npsmouse                34568  0\npcspkr                  2816  0\nevdev                   9088  0\next3                  116488  1\njbd                    47272  1 ext3\nide_disk               14848  3\nide_generic             1536  0 [permanent]\nohci_hcd               17540  0\nusbcore               109444  3 rtl8150,ohci_hcd\ngeneric                 5508  0 [permanent]\nide_core              107760  4 cs5535,ide_disk,ide_generic,generic\nthermal                13576  0\nprocessor              23724  1 thermal\nfan                     4868  0</pre>\n<p>Â¥</p>","frontmatter":{"title":"decTop Debian Tips","date":"June 23rd, 2007"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2007/2007-06-23-dectop-debian-tips/"}}