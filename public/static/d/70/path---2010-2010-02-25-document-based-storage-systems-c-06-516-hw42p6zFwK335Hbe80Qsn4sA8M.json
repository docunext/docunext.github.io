{"data":{"markdownRemark":{"html":"<p>After posting <a href=\"http://www.docunext.com/blog/2010/02/redis-memcachedb-or-couchdb.html\">Redis, MemcacheDB, or CouchDB?</a>, I did some work with MemcacheDB.</p>\n<p>The convenience was really cool, but the limitations became quickly apparent.</p>\n<p>I found myself managing my own index of documents; i.e. no fun. That might be ok in some cases, but not for browsing documents. It might be possible to eventually and <em>easily</em> automate indexing, but I decided to read up again on the other NoSQL projects.</p>\n<p>I'm surprised with how many of these are written in erlang! Of them all, <strong>CouchDB</strong> (erlang) and <strong>MongoDB</strong> (C++) look the most impressive. They are way more than a key/value storage system; but could be used as such, as long as the documents are in JSON format.</p>\n<p>Since the documents are stored in JSON, they have some inherent key/value pairs. Thus, these keys can be used for some tentative relationships, aka views.</p>\n<p>While I prefer erlang to java, its still a fairly big dependency for a database. Thankfully, mongodb is written in C++ and there are debian packages available, as well as in the official debian \"sid\" repository.</p>\n<p>So it looks like I'll eventually be switching from memcachedb to mongodb.</p>\n<p>NOTE: I think its awesome that the mongodb developers chose the AGPL for the license!</p>\n<p>UPDATE: A big difference between CouchDB and MongoDB is that CouchDB uses a REST style interface, while MongoDB does not, it uses language specific drivers. However, as the MongoDB docs state, a REST interface can be created in the future, and it appears there are some projects which make this possible, like <a href=\"http://github.com/djsun/sinatra_resource\">sinatra_resource</a>.</p>\n<h4>MongoDB Web Monitor Output</h4>\n<div>\n<h2>mongodb dev-48-gl.savonix.com:27017 </h2><p>\n<pre>db version v1.3.3-, pdfile version 4.5\ngit hash: nogitversion\nsys info: Linux domU-12-31-39-09-BE-63 2.6.21.7-2.fc8xen-ec2-v1.0 #2 SMP Tue Sep 1 10:04:29 EDT 2009 i686 BOOST_LIB_VERSION=1_35\n<p>dbwritelocked:  0 (initial)\nuptime:    93667 seconds</p>\n<p>assertions:</p>\n<p>replInfo:</p>\n<p>Clients:</p>\n<table border=1><tr align='left'><th>Thread</th><th>OpId</th><th>Active</th><th>LockType</th><th>Waiting</th><th>SecsRunning</th><th>Op</th><th>NameSpace</th><th>Query</th><th>client</th></tr>\n<tr><td>initandlisten</td><td>0</td><td></td><td>1</td><td></td><td></td><td>2004</td><td>local.system.namespaces</td><td>{ name: /^local.temp./ }</td><td>0.0.0.0:0</td></tr><tr><td>snapshotthread</td><td>0</td><td></td><td>0</td><td></td><td></td><td>0</td><td></td><td></td><td>0.0.0.0:0</td></tr><tr><td>websvr</td><td>2</td><td></td><td>-1</td><td></td><td></td><td>2004</td><td>admin.system.users</td><td>{}</td><td>0.0.0.0:0</td></tr></table>\ntime to get dblock: 0ms\n# databases: 2\nCursors byLoc.size(): 0\n<p><b>replication</b>\nmaster: 0\nslave:  0\ninitialSyncCompleted: 1</p>\n<p><b>DBTOP  (occurences|percent of elapsed)</b></p>\n<table border=1><tr align='left'><th>NS</th> <th>total</th> <th>Reads</th><th>Writes</th> <th>Queries</th><th>GetMores</th><th>Inserts</th><th>Updates</th><th>Removes</th> </tr><tr><th>GLOBAL</th><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td><td>0|0.00%</td></tr></table>\n</div>\n<p>Related Posts:</p>\n<ul>\n<li><a href=\"http://www.docunext.com/blog/2010/02/interesting-mongodb-ruby-gems.html\">Interesting MongoDB Ruby Gems</a></li>\n<li><a href=\"http://www.docunext.com/blog/2010/02/dm-mongo-adapter-versus-the-bare-mongodb-driver.html\">dm-mongo-adapter versus the Bare MongoDB Driver</a></li>\n</ul>","frontmatter":{"title":"Document Based Storage Systems"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2010/2010-02-25-document-based-storage-systems/"}}