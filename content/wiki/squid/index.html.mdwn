Squid is a caching [[proxy]] which can also function as a reverse proxy (http accelerator).

My favorite thing about it is that it can route outgoing request to the final destination (direct) or other caching proxies.

### Squidclient
<pre>
squidclient mgr:info | less
</pre>

### Squid 3 Configuration Notes

#### Limit the Maximum File Size Squid Will Cache

To restrict the size of files that Squid will cache on my proxy server, I use this:

<pre class="sh_sh">
maximum_object_size 512 KB
</pre>

#### '127.0.0.1' is ignored to keep splay tree searching predictable

<pre>
/etc/cron.daily/logrotate:
2011/02/05 06:25:02| WARNING: (B) '127.0.0.1' is a subnetwork of (A) '127.0.0.1'
2011/02/05 06:25:02| WARNING: because of this '127.0.0.1' is ignored to keep splay tree searching predictable
2011/02/05 06:25:02| WARNING: You should probably remove '127.0.0.1' from the ACL named 'localhost'
</pre>

So I remove "acl localhost src 127.0.0.1/32" and I get this:

<pre>
Restarting Squid HTTP Proxy 3.x: squid3Creating Squid HTTP Proxy 3.x cache structure ... (warning).
2011/02/05 10:17:10| aclParseAclList: ACL name 'localhost' not found.
FATAL: Bungled squid.conf line 27: http_access allow manager localhost
Squid Cache (Version 3.1.3): Terminated abnormally.
CPU Usage: 0.008 seconds = 0.002 user + 0.006 sys
Maximum Resident Size: 17424 KB
Page faults with physical i/o: 0
2011/02/05 10:17:10| aclParseAclList: ACL name 'localhost' not found.
FATAL: Bungled squid.conf line 27: http_access allow manager localhost
Squid Cache (Version 3.1.3): Terminated abnormally.
CPU Usage: 0.010 seconds = 0.005 user + 0.005 sys
Maximum Resident Size: 17424 KB
Page faults with physical i/o: 0
 failed!
</pre>

Ah! I had "acl localhost src 127.0.0.1" futher down in the conf file. I removed that and it restarted fine!

### More Squid 3 Info
* [[Squid 3 Cache Manager CGI]]
* [[Squid 3 To Block HTTP Headers]]
* [[Squid 3 NCSA Basic Authentication]]

### See Also
* [[Varnish]]
* [[Polipo]]
* [[Ziproxy]]
* [[Tinyproxy]]

### Links
* [http://www.proxy-sys.com Proxy Systems]

