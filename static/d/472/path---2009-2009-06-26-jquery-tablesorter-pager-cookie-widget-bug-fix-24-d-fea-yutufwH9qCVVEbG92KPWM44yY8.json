{"data":{"markdownRemark":{"html":"<p>Wow that's a mouthful!</p>\n<p>The cookie widget for the awesome jQuery tablesorter pager extension wouldn't go back to page 1 for me. I debugged it endlessly until I finally figured it out - the zero page confused it. I hacked a fix that works for me and sent it to the author:</p>\n<blockquote>\nNice plugin. When I use it w/ pager, move to first page breaks due to wacky numbering. This fix works for me:\n</blockquote>\n<pre>if ( pageNum &gt;= 1 ) {\n    tablesorterCookieJar.set($(table).attr('id')+'-page', pageNum);\n} else if ( pageNum == 0 ) {\n} else {\n   var pageNum = tablesorterCookieJar.get($(table).attr('id')+'-page');\n   if (pageNum &amp;&amp; pageNum &gt; 1) {\n       table.config.page = pageNum;\n        jQuery(table).trigger('sorton',[0,0]);\n   }\n}</pre>\n<p>Woops, actually that doesn't work, but I think this does:</p>\n<pre>var pageNum = table.config.page;\nvar totalRows = table.config.totalRows;\nif ( totalRows &gt; 0 ) {\n    tablesorterCookieJar.set($(table).attr('id')+'-page', pageNum);\n} else {\n   table.config.totalRows = 1;\n   var pageNum = tablesorterCookieJar.get($(table).attr('id')+'-page');\n   if (pageNum &amp;&amp; pageNum &gt; 1) {\n       table.config.page = pageNum;\n       jQuery(table).trigger('sorton',[0,0]);\n   }\n}\n</pre>\n<p>I'm using totalRows as an initialization marker of sorts.</p>\n<p>HA! Actually that change does nothing. Turns out I was just avoiding calling the update from the cookie - which is what was preventing the page from getting reset to 0. Instead, I've removed that part:</p>\n<pre>            var pageNum = table.config.page;\n            if ( pageNum > 0 ) {\n                tablesorterCookieJar.set($(table).attr('id')+'-page', pageNum);\n            }</pre>\n<p>and instead using this to initialize the tablesorter:</p>\n<pre>\n        var tablesorterCookieJar = $.cookieJar('tablesorter', {\n            cookie: {\n                path: '/'\n            }\n        });\n        var mypage = tablesorterCookieJar.get('table-page');\n        $(\"#table\").tablesorter(\n            {\n              widthFixed: true\n              widgets:['zebra','cookie']\n            }\n          ).tablesorterPager(\n              {\n                  container: $(\"#table-pager\"),\n                  positionFixed: false,\n                  size: 20,\n                  page: mypage\n              }\n          );\n</pre>","frontmatter":{"title":"jQuery Tablesorter Pager Cookie Widget Bug Fix","date":"2009-06-26T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2009/2009-06-26-jquery-tablesorter-pager-cookie-widget-bug-fix/"}}