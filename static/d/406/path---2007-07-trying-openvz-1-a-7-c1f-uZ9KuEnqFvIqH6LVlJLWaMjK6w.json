{"data":{"markdownRemark":{"html":"<p>I'm installing OpenVZ on a little valley d201gly folllowing <a href=\"http://wiki.openvz.org/Installation_on_Debian#install_the_kernel-image\">http://wiki.openvz.org/Installation<em>on</em>Debian#install<em>the</em>kernel-image</a>:</p>\n<ol>\n<li>Edit sources.list:</li>\n</ol>\n<pre># Added for OpenVZ\n\ndeb http://download.openvz.org/debian etch main</pre>\n<ol start=\"2\">\n<li>\n<p>Update</p>\n</li>\n<li>\n<p>Install kernel linux-image-2.6.18-openvz-686</p>\n</li>\n<li>\n<p>Install vzctl and vzquota?</p>\n</li>\n</ol>\n<p>At this point I was a little confused - what's a template, where do they live? So I followed <a href=\"http://wiki.openvz.org/Debian_template_creation\">openvz.org/Debian<em>template</em>creation</a> and <a href=\"http://www.howtoforge.com/debian_etch_openvz\">howtoforge.com/debian<em>etch</em>openvz</a>.</p>\n<p>I created a folder private inside /var/lib/vz/, and a folder 101 inside that, then debootstrap 101, and then started 101, and entered 101, but no network. :-( I got an error about proxy arp so I set that, but still no go. Aha, found out what the problem was. Needed \"OSTEMPLATE=debian-4.0\" in the /etc/vz/conf/101.conf file. :-)</p>\n<p>Wow. OpenVZ rocks. So far I've built two VMs:</p>\n<ul><li>101 - basic debian etch, copied to template, keeping for ongoing modifications as I find them (like adding sudo and rsync)</li><li>102 - installing subversion for public GPL code we're working on</li></ul>\n<p>For 102 (the subversion server):</p>\n<pre>apt-get install subversion libapache2-svn php5</pre>\n<p>I'm not sure if I needed it, but I installed php5 because I use it almost everywhere. Hmm, having some problems with ssl, might need ca-certificates.</p>\n<p>Also setup 103, which is a lamp server, while I was at it I created a copy of this to clone later.</p>\n<p>While I'm thinking about it, I want to remind myself that it would be a good idea to use some intelligent numbering schemes for these virtual machines. Any number will do, as long as the they are larger than 100.</p>\n<p>Yee-haw, just got a gentoo vm setup! :-) Too bad you can't run FreeBSD inside an OpenVZ VM. Just ran into a problem with the gentoo vm, had to increase the disk quota, but after that, no problem. Also ran into a <a href=\"http://planet.gentoo.org/developers/flameeyes/2006/03/19/the_shadow_and_pam_login_conflict\">shadow and pam-login conflict, but found a solution pretty quick</a>.</p>\n<p>Related:</p>\n<p><a href=\"http://www.docunext.com/\">OpenVZ Docunext Wiki Page</a></p>","frontmatter":{"title":"Trying OpenVZ","date":"July 24th, 2007"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2007/07/trying-openvz/"}}