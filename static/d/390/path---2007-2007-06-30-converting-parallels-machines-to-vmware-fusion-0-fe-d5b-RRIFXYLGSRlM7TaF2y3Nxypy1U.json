{"data":{"markdownRemark":{"html":"<p>I'm following these instructions to convert a <a href=\"http://www.deadlock.it/2007/06/25/how-to-convert-a-parallels-desktop-vm-to-vmware-fusion-vm-windows-only/\">Parallels machine into a VMWare Fusion Machine</a>. So far so good.</p>\n<p>I'm doing a XP Home machine now, planning to try a FreeBSD machine too, but I'm not sure if that will work. No, doesn't look like the conversion of FreeBSD will work. Too bad.</p>\n<p>Also, you have to re-activate Windows XP Home once you convert the machine, and since Windows limits the amount of times you can re-activate a Windows XP license, I'm not going to at this time. As I keep saying, I will move to QEMU for good once KQEMU is ported to OS X.</p>\n<p>Just for the heck of it I tried compiling KQEMU on my Macbook, but no luck:</p>\n<pre>make -C common all\n\ngcc -Wall -O2 -Werror -g -D__KERNEL__ -I.. -o genoffsets genoffsets.c./genoffsets > monitor_def.h\n\ngcc -D__KERNEL__ -nostdinc -iwithprefix include -I. -I.. -D__ASSEMBLY__ -c -o i386/nexus_asm.o i386/nexus_asm.S\n\ni386/nexus_asm.S:27:Unknown pseudo-op: .global\n\ni386/nexus_asm.S:27:Rest of line ignored. 1st junk character valued 95 (_).\n\ni386/nexus_asm.S:86:operands given don't match any known 386 instruction\n\ni386/nexus_asm.S:117:bad register name ('%dr7')\n\ni386/nexus_asm.S:146:bad register name ('%dr7')\n\ni386/nexus_asm.S:170:operands given don't match any known 386 instruction\n\nmake[1]: *** [i386/nexus_asm.o] Error 1\n\nmake: *** [kqemu.o] Error 2</pre>\n<p>Well this is quite interesting:</p>\n<p><a href=\"http://qemu-forum.ipi.fi/viewtopic.php?t=3333\">Kqemu for Darwin</a></p>\n<p>Its from March of 2007, three months ago, so even though very little is said about it, it appears to be the real deal. I was able to get it to load, but I'm not sure if its getting used by Q.</p>\n<p>Kernel Module unloaded:</p>\n<p>1:40 to boot debian to login prompt.</p>\n<p>root# ./load_kqemu.sh</p>\n<p>kextload: extension kqemu.kext appears to be valid</p>\n<p>kextload: notice: extension kqemu.kext has debug properties set</p>\n<p>kextload: loading extension kqemu.kext</p>\n<p>kextload: kqemu.kext loaded successfully</p>\n<p>kextload: loading personalities named:</p>\n<p>kextload:     kqemu</p>\n<p>kextload: sending 1 personality to the kernel</p>\n<p>kextload: matching started for kqemu.kext</p>\n<p>And it took 1:37 to do the same thing after the kernel module was loaded. Hmmm. When I try to pass a qemu argument to use kqemu, I get an error saying -kernel-kqemu is not a valid option.</p>\n<p>I was just checking out the <a href=\"http://en.opensuse.org/Qemu_with_kqemu_kernel_module_support#Compiling_qemu_and_kqemu\">OpenSUSE kqemu qemu docs</a> and found a cool trick for qemu: you can access a vm monitor by changing consoles by typing alt-ctrl-2 all at once.</p>\n<p>I am able to compile Q with the kqemu option enabled, but then when I try to run anything, it doesn't work at all. :-(</p>\n<p>I'm doing this by editing the qemu/configure file to have kqemu=\"yes\", when following the <a href=\"http://www.kju-app.org/proj/wiki/CompilingQ\">Downloading and compiling Q instructions</a> given by the Q developers. The qemu folder gets copied to tmp/qemu in the build_i386.sh process.</p>\n<p>What does this do:</p>\n<table><tr><td>\n<p>With this client, I am able to connect, get the version, and run the three test. I'm not able to init or exec. I did a little more writing about this over at <a href=\"http://www.docunext.com/blog/\">docunext.com</a>.</td></tr></table></p>\n<p>The new Q icons look awesome:</p>\n<p>Very cool - I just realized I can use a Parallels drive with Q if it is in the raw format. I have to change the extension to .img, but that's fine with me. Yes its slower on a Mac but at least it will be portable to other computers which can use kqemu. :-)</p>","frontmatter":{"title":"Converting Parallels Machines to VMWare Fusion and KQEMU on OSX attempts","date":"June 30th, 2007"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2007/2007-06-30-converting-parallels-machines-to-vmware-fusion/"}}