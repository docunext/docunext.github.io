{"componentChunkName":"component---src-templates-blog-post-js","path":"/2009/01/convert-form-data-to-xml-with-jquery/","result":{"data":{"markdownRemark":{"html":"<p>It actually goes to JSON and then to XML, but here's an adaption of json2xml.js specifically for use with jQuery's serializeArray function:</p>\n<pre class=\"sh_javascript\">\n\nfunction json2xml(o, tab) {\n  var toXml = function(v, name, ind) {\n    var xml = \"\";\n    if (typeof(v) == \"object\") {\n      var hasChild = false;\n      for (var m in v) {\n        if (m.charAt(0) == \"@\") {\n          xml += \" \" + m.substr(1) + \"=\\\"\" + v[m].toString() + \"\\\"\";\n        } else {\n          hasChild = true;\n        }\n      }\n      if (hasChild) {\n        for (var m in v) {\n          if (m==\"name\") {\n            xml += \"&lt;\" + v[m] + \"&gt;\" + v['value'] + \"\";\n          }\n        }\n      }\n    }\n    return xml;\n  }, xml=\"\";\n  for (var m in o) {\n    xml += toXml(o[m], m, \"\");\n  }\n\n  return \"<form>\"+xml+\"</form>\";\n\n}\n</pre>\n<p>and then I call it like this:</p>\n<pre class=\"sh_javascript\">\nvar formjson = $('form#myform').serializeArray();\n//var formxml = $.compactJSON(mjson);\nvar formxml = json2xml(formjson);\nalert(formxml);\n$.post(\"/collect.cgi\", { 'data': formxml }, function (data){ });\n</pre>","frontmatter":{"title":"Convert Form Data to XML with jQuery","date":"January 25th, 2009"}}},"pageContext":{"slug":"/2009/01/convert-form-data-to-xml-with-jquery/"}}}