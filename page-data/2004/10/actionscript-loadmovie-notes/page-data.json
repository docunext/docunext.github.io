{"componentChunkName":"component---src-templates-blog-post-js","path":"/2004/10/actionscript-loadmovie-notes/","result":{"data":{"markdownRemark":{"html":"<p>In actionscript, you cannot reference a movie until it is loaded. Code to work around that (for loadmovienum):</p>\n<pre>\nfunction preloadLevel() {    if (_level5 != undefined) {        trace(\"level 5 loaded\");        delete this.onEnterFrame;    }}_root.onEnterFrame = preloadLevel;\n\nloadMovieNum(\"external.swf\", 5); // load something into level 5</pre>\n<p>Code for XML:<verbatim>// Create new XML object</p>\n<p>SP_XML = new XML();</p>\n<p>SP<em>XML.ignoreWhite = true;//  load the XML data - the gate will take care of the// location</em>id, all that jazz.//SP_XML.load(\"/acc/link/loc/view/sp/xml/\");</p>\n<p>SP<em>XML.load(\"/main/swf/sample</em>space<em>plan.xml\");// Render the space plan - load the SWF movies and// arrange them as necessary.//SP</em>XML.onLoad = renderSpacePlan;</p>\n<p>SP<em>XML.onLoad = function(success:Boolean) {\tif (success) {\t\tspace</em>plan<em>id = this.firstChild.attributes.id;\t\ttrace(\"id\"+space</em>plan<em>id);\t\t// Set array SpEquipment to the equipment arrays.\t\tSpEquipment = this.firstChild.childNodes;\t\t//loadMovieNum(\"/acc/link/loc/sp</em>server/&#x26;location<em>space</em>plan<em>id=\"+space</em>plan<em>id, 0);\t\t//loadMovieNum(\"/acc/link/types/symbol</em>server/&#x26;equipment<em>type</em>symbol<em>id=3\",2);\t\tfor (var i = 0; i&#x3C;SpEquipment.length; i++) {\t\t\tasset</em>x = SpEquipment[i].attributes.x;\t\t\tasset<em>y = SpEquipment[i].attributes.y;\t\t\tasset</em>type<em>id = SpEquipment[i].attributes.asset</em>type;\t\t\tj=i+2;\t\t\t//<em>root.createEmptyMovieClip(\"eqp\"+j, j);\t\t\t_root.eqp.duplicateMovieClip(\"eqp\"+j, j);\t\t\t_root[\"eqp\"+j].</em>onClic\t\t\t<em>root[\"eqp\"+j].</em>x = asset<em>x;\t\t\t_root[\"eqp\"+j].</em>y = asset<em>y;\t\t\t_root[\"eqp\"+j].loadMovie(\"/acc/link/types/symbol</em>server/&#x26;equipment<em>type</em>symbol<em>id=\" + asset</em>type<em>id);\t\t\t//</em>root[\"eqp\"+j].loadMovie(\"/main/swf/kiosk.swf\");\t\t}\t} else {\t\ttrace(\"xml failed to load.\");\t}};<em>root.eqp.onLoad = function(success:Boolean) {\tif (success) {\t\tduplicateMovieClip(</em>root.eqp, \"eqp2\", 3);\t\t<em>root.eqp2.</em>x = 65;\t}};// this sucks</p>\n<p>function preloadLevel() {\t//Assuming a loop needs to be run here to evaluate each level load status!\t//Definitely want a \"Now constructing the space plan... please stand by screen.\"\tif (<em>level2 != undefined) {\t\t_level2.</em>x = 150;\t\t<em>level2.</em>y = 125;\t\t<em>level2.</em>rotation = 45;\t\tnewclip = duplicateMovieClip(<em>level2, blah, 33);\t\tnewclip.</em>x = 45;\t\tdelete this.onEnterFrame;\t}}_root.onEnterFrame = preloadLevel;</pre></p>","frontmatter":{"title":"Actionscript loadMovie Notes","date":"October 14th, 2004"}}},"pageContext":{"slug":"/2004/10/actionscript-loadmovie-notes/"}}}