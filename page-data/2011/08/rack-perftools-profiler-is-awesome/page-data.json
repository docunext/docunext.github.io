{"componentChunkName":"component---src-templates-blog-post-js","path":"/2011/08/rack-perftools-profiler-is-awesome/","result":{"data":{"markdownRemark":{"html":"<p>Based upon a suggestion from a co-worker, I tried out rack-perftools_profiler today. It is awesome.</p>\n<p>One thing I noticed right away is that Psych was getting called, and I didn't know why. I looked it up, and it appears to be a YAML parsing library. I wasn't using any YAML that I knew of... oh wait - I was using serialize on an activerecord object. Ha!</p>\n<p>So I removed it, and no more YAML parsing. Yay! But it also reminded me of tenderlove's work to implement other serialize parsers, like JSON. I'd really like to use yajl for its speed.</p>\n<p>Here's what <a href=\"http://www.regdel.com/\">regdel</a> is currently showing:</p>\n<pre class=\"terminal\">\nTotal: 96 samples\n      19  19.8%  19.8%       19  19.8% garbage_collector\n       9   9.4%  29.2%        9   9.4% Regexp#=~\n       5   5.2%  34.4%        6   6.2% ActiveRecord::ConnectionAdapters::ConnectionHandler#retrieve_connection_pool\n       4   4.2%  38.5%        4   4.2% Hash#initialize_copy\n       3   3.1%  41.7%       16  16.7% ActiveModel::AttributeMethods#respond_to?\n       2   2.1%  43.8%        2   2.1% ActiveRecord::AttributeMethods#attribute_method?\n       2   2.1%  45.8%        2   2.1% Class#logger\n       2   2.1%  47.9%        2   2.1% String#=~\n...\n</pre>\n<p>I'm not sure why garbage_collector is getting caled so much - maybe that's a good thing. But I'm also surprised that Regexp is getting called - I should look into that.</p>\n<p>At work, this really helped out a ton, but we're running on Rails 2. The output for Rails 3 is actually a bit different; a lot has changed!</p>","frontmatter":{"title":"Rack Perftools Profiler Is Awesome","date":"August 20th, 2011"}}},"pageContext":{"slug":"/2011/08/rack-perftools-profiler-is-awesome/"}}}