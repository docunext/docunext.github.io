{"componentChunkName":"component---src-templates-blog-post-js","path":"/2008/02/swiftweasel-on-the-via-c7/","result":{"data":{"markdownRemark":{"html":"<p>Swiftweasel is still a little too heavy for my Via C7 laptop, so I'm trying a new build, the 3.0b2 pentium 4 version. Hopefully that will speed things up a bit.</p>\n<p>I had mistakenly assumed that the Pentium 3 version was the right one for the C7, but the C7 has sse2 capabilities, which are omitted from the Pentium 3 swiftweasel builds.</p>\n<p>It does feel a little quicker now. To get the the trunk version to run I had to install libsqlite3. In the end I'm continuing to use version 2.0, but the optimized build for the Pentium 4.</p>\n<p>I just read this on the gentoo-wiki:</p>\n<blockquote>Note: You can verify the chip is a Prescott by looking for pni in the flags section of /proc/cpuinfo. This indicates support for SSE3.</blockquote>\n<p>So now I'm going to use the prescott build.</p>\n<p>I also found somewhere that this:</p>\n<pre>MOZ_DISABLE_PANGO=1</pre>\n<p>speeds things up a bit, and I think it does!</p>\n<p>Now trying to build my own version of iceweasel, but getting this error:</p>\n<pre>configure: error: --enable-application=APP is required</pre>\n<p>Duh, Mozilla has helpful hints on this, I needed to choose an app!</p>\n<p>Its all about the ~/.mozconfig and environment variables in my case. I finally am compiling iceweasel with my own configurations, I had to export CC and CXX:</p>\n<pre>export \"CC=ccache distcc gcc\"\nexport \"CXX=ccache distcc g++\"</pre>\n<p>Now I may be able to use debian's dpkg-buildpackage tool.  I'm trying it out now - hopefully it will work this time, it took awhile to figure out how to get ccache and distcc to work, but I think its good now.</p>\n<p>Now I'm trying a couple of different ways to set build flags when using dpkg-buildpackage. Kind of like how its done in Gentoo, with packages in mind.</p>\n<p>UPDATE: Feb 8, 2008 - using dpkg-buildpackage worked! I edited debian/rules to add more compiler optimization flags, as well as disable more Mozilla features. While canvas and svg are nice and completely normal component, I'm trying to make a really lightweight version for use on the C7.</p>\n<p>These pages were helpful too:</p>\n<ul>\n<li><a href=\"http://bbs.archlinux.org/viewtopic.php?pid=313876\">http://bbs.archlinux.org/viewtopic.php?pid=313876</a></li>\n<li><a href=\"http://legatvs.wordpress.com/2007/12/09/firefox-distcc/\">http://legatvs.wordpress.com/2007/12/09/firefox-distcc/</a></li>\n<li><a href=\"http://silverwraith.com/papers/build-firefox.php\">http://silverwraith.com/papers/build-firefox.php</a></li>\n<li><a href=\"https://wiki.ubuntu.com/DistCompilerFlags\">https://wiki.ubuntu.com/DistCompilerFlags</a></li>\n</ul>\n<p>This looks cool:</p>\n<ul>\n<li><a href=\"http://siliconvista.blogspot.com/2007/11/compiling-firefox-with-tcmalloc.html\">http://siliconvista.blogspot.com/2007/11/compiling-firefox-with-tcmalloc.html</a></li>\n</ul>\n<p>I just compiled Iceweasel to link with tcmalloc, and everything seems to be working OK.</p>\n<pre>sudo dpkg-buildpackage -b -uc -ai386 -ti686-linux-gnu</pre>\n<p>Â¥</p>","frontmatter":{"title":"Swiftweasel on the Via C7","date":"February 6th, 2008"}}},"pageContext":{"slug":"/2008/02/swiftweasel-on-the-via-c7/"}}}