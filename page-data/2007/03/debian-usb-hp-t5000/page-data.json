{"componentChunkName":"component---src-templates-blog-post-js","path":"/2007/03/debian-usb-hp-t5000/","result":{"data":{"site":{"siteMetadata":{"domain":"https://www.docunext.com"}},"markdownRemark":{"html":"<p>I'm trying to install debian on an HP t5000 thin client, using a USB drive as an expanded storage device for the base system. Here's what I've got so far:</p>\n<pre>32MB ATA Flash memory mounted as /\n\n175MB USB Flash as /home/\n\n175MB USB Flash as /usr/\n\n175MB USB Flash as /var/</pre>\n<p>Hopefully that setup will fix the problems I've been having with sda versus sdb upon reboot. This time I'll keep the installer USB plugged in, and I'll change the BIOS to boot off the internal flash memory first. Then I'll do something with the installer USB drive at some point.</p>\n<p>Nope, the 32MB was not big enough.</p>\n<p>Will this work:</p>\n<p><a href=\"http://blog.edong.net/?p=58\">deb2flash</a></p>\n<p>Now I'm trying to just go off of a USB drive, but having some issues... casper is reporting \"Unable to find a medium containing a live file system.\"</p>\n<p>Trying this instead:<A href=\"http://linux.go2linux.org/node/34\"></p>\n<p>How to install Debian Etch on USB Flash memory stick</a></p>\n<p>My disk is /dev/sda/ yours might not be!</p>\n<pre>shred -n 1 -z -v /dev/sda\n\nparted /dev/sda \"mklabel msdos mkpartfs primary ext2 0 21 mkpartfs primary ext2 21 -0 set 1 boot on\"\n\nmkdir /mnt/buildroot\n\nmount /dev/sda2 /mnt/buildroot\n\nmkdir /mnt/buildroot/boot\n\nmount /dev/sda1 /mnt/buildroot/boot\n\ndebootstrap --arch i386 etch /mnt/buildroot\n\nchroot /mnt/buildroot /bin/su -..some steps missing here...\n\ngrub-install --recheck --root-directory=/mnt/buildroot /dev/sda</pre>\n<p>Crud, that didn't work.</p>\n<p>Hmmm.</p>\n<p>Giving the 32MB / USB flash duo a try again. This time just using the 32MB as a /boot/ mount. Again I'll have to tell the bios to try booting off it first, or at least put a blank usb flash drive in the installer's place.</p>\n<p>Sweet! Finally got it to work. The via_rhine modules doesn't seem to work well at all... so I plugged in a linksys usb ethernet connector and it worked much better.</p>\n<p>I keep getting these errors on startup:</p>\n<pre>usb 3-4: control timeout on ep0in</pre>\n<p>No idea...</p>\n<p>Then the USB Flash drive got corrupted, so I'm now using an external USB 2.5 inch hard drive. Working fine, only uses 14 watts, all things considered. :-)</p>\n<p>Â¥</p>","fields":{"slug":"/2007/03/debian-usb-hp-t5000/"},"frontmatter":{"title":"Debian USB HP t5000","date":"March 28th, 2007","tags":"open source"}}},"pageContext":{"slug":"/2007/03/debian-usb-hp-t5000/"}}}