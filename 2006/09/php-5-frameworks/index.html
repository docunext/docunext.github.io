<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.742409eb857ab2ccca34.css" data-identity="gatsby-global-css">li{margin-right:1rem}h1,li{display:inline-block}h1{font-style:normal;margin-top:0}header{margin-bottom:1.5rem}header ul{float:right;list-style:none}#wrapper{margin:3em auto;max-width:700px;padding:10px}.blogPostDate{color:#333;font-size:8pt;margin-bottom:9px;padding-top:4px}</style><meta name="generator" content="Gatsby 4.4.0"/><title data-react-helmet="true">PHP 5 Frameworks</title><link data-react-helmet="true" rel="canonical" href="https://www.docunext.com/2006/09/php-5-frameworks/"/><link as="script" rel="preload" href="/webpack-runtime-910253975eed29c257e8.js"/><link as="script" rel="preload" href="/framework-e27ef662c918f795a5a3.js"/><link as="script" rel="preload" href="/app-578f356f1ad3d3b2b65e.js"/><link as="script" rel="preload" href="/commons-bbb2797d08d51fd1bd26.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"/><link as="fetch" rel="preload" href="/page-data/2006/09/php-5-frameworks/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2191495970.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4224293195.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="wrapper"><header><ul><li><a href="/about/">About</a></li></ul><a href="/"><h1>Docunext</h1></a></header><hr/><div><h2>PHP 5 Frameworks</h2><div class="blogPostDate">September 12th, 2006</div><div><p>Joshua is stopping development of Nexista, and recommended Symfony Project. I'm also familiar with Phing, Creole, and Propel, so here are some of my thoughts about all this.</p>
<p><strong>Goals</strong></p>
<ul>    <li>Retain existing code, and continue using XML for configuration and queries and XSLT for presentation. </li>    <li>Start to use data object persistence to leverage CRUD efficiencies. (Create, retrieve, update, and delete)</li>    <li>Improve schema format. So far, I am impressed with Propel's schema definition. It looks pretty close to metabase's schema format, and adds relationship metadata (required for persistent objects). </li>    <li>Change and improve sitemap format, creation, and processing. Things get complicated when you have multiple pages in one gate, or use the regex match to define gate includes. It would be so awesome to use the software interface to build, edit, and write sitemaps. In development mode, it makes sense to have a control panel of sorts for some pages so that you can override some of the sitemap settings, and build them into the &quot;main&quot; sitemap that is including the others. </li></ul><p><strong>Problems</strong></p>
<ul>    <li>Symfony uses YAML instead of XML for configuration and PHP instead of XSLT for presentation. Turns out Symfony will support XML configuration files, as well as ini files to boot. </li>    <li>Propel uses Creole instead of PDO. </li>    <li><strong>The problem with propel and doctrine which create php classes and objects based upon your data model is that it is not agile at all. You can build-and-use, as in extreme programming. The best type of programming in my humble opinion is when you are doing usability tests as you go, better yet, where your use of the software drives its manifestation and behavior!</strong></li></ul><p>It appears that a switch from Metabase to Creole would not be far fetched, and would create a bridge to Propel for data object persistence.</p>
<p><strong>Ideas</strong></p>
<ul>    <li>Nexista MVC (model, view, controller) capabilities could be expanded upon with additional XML transformations, taking the efficiencies of data object persistence even further. </li>    <li>An XML file for each of the MVC components: xml schema, xsl templates, and xml queries?</li>    <li>There are probably some pieces of phing / propel which can help you achieve what you are trying to in the above item.</li></ul><p><strong>Questions</strong></p>
<ul>    <li>What is the value of a database abstraction layer abstraction layer? There is only a need because there are so many database abstraction layers in php. With Nexista's sqldatasource, it wouldn't be too difficult. </li>    <li>Is PDO better than Creole? I ran some <strong>elementary</strong> tests with Nexista using both creole and pdo and was surprised to see creole faster by about 0.02 seconds. Metabase and creole were almost exactly the same speed, with variations of which one was faster. </li>    <li>Can Phing provide the connection between Creole schemas, CRUD, and MVC? It sits well in my mind that with a rich xml schema and a sitemap, you could create xslt templates AND xml queries for your data objects with Phing. </li>    <li>Write a data model, and auto-generate queries for controllers, auto-generate templates for viewing. </li>    <li>With a data model, you would then have a &quot;tailored&quot; phpmyadmin typ of interface, specific to your data model. You could then refine the interface and controllers using the actual interface. Then at the end you would use CSS2 to adapt the look and feel of the view. </li>    <li>What is the best way for using CSS2 with XSLT? </li>    <li>Return to the original concept of being able to port an application from PHP to Java with only a little work? Attempt to make Nexista equal Cocoon, and Creole/Propel equal JDBC/Turbine?</li>    <li>Would it be possible to create actions and view via XSLT and Phing? </li></ul><p><strong>References</strong></p>
<ul>    <li>Creole and Propel - <a href="http://www.phpdb.org/" onclick="window.open(this.href, '_blank'); return false;">http://www.phpdb.org/</a> </li>    <li>Phing - <a href="http://phing.info/" onclick="window.open(this.href, '_blank'); return false;">http://phing.info/</a></li>    <li>Symfony - <a href="http://www.symfony-project.com/" onclick="window.open(this.href, '_blank'); return false;">http://www.symfony-project.com/</a></li>    <li>Nexista - <a href="http://www.nexista.com/" onclick="window.open(this.href, '_blank'); return false;">http://www.nexista.com/</a></li></ul><hr /><h3 id="toc0">Database thoughts:</h3><p>There is a lot happening in PHP 5 with regards to databases. First off, PDO - PDO is a native PHP API for database abstraction. Since its written in C, it should be faster. However, it doesn't support all databases, and I've read some doubts about its future. Thought investigating this last point turns up some interesting points:</p>
<p><a href="http://www.sitepoint.com/forums/showthread.php?t=171535" onclick="window.open(this.href, '_blank'); return false;">http://www.sitepoint.com/forums/showthread.php?t=171535</a>
<p>Besides PDO, talk about choice! Here's what's out there:</p>
<ul>    <li>Creole</li>    <li>ADOdb</li>    <li>Metabase</li>    <li>MDB</li>    <li>MDB2 - may have support for foreign key constraints in the future</li>    <li>Pear DB</li></ul><p>And that's an incomplete list!</p>
<p>I have used Metabase successfully for years, and I'm thinking of switching to Creole. As I evaluate this change, I want to make sure I shouldn't actually be switching to something else. Therefore, I'm also looking at MDB2, which if you read that zend.com link referenced above, you will see that Lukas Smith is planning on supporting MDB2 PDO support. Interesting. Not sure how that would work to have a db abstration layer on top of a db api, but I guess it would make switching from non-pdo to pdo much easier.</p>
<p>The objective here would be to convert to a new database abstraction layer with as little effort as possible. Currently we use Nexista so there is a bridge between our XML queries which leverage Nexista's flow and Metabase. That file is called sqldatasource.php. I will probably rename it metabase_connector.php, and then modify it as mdb2_connector.php, or creole_connector.php. That would be cool as I could then make a simple switch to test out various database abstraction layers, and their respective speeds. Joshua Savage, the author of Nexista, also created a Nexista class for connecting directly to pdo, called ndo. I have yet to evaluate this, but like the rest of Nexista and Joshua's work, I'm sure its high quality.</p>
<p>Even though I have ADD, I'll try to review my experiences with these ONE at a TIME!</p>
<p><strong>Creole</strong>
<p>Back in the day I worked on Phing (a PHP port of Apache's Ant). Back then I didn't really know what I was doing but Andreas Aderhold was patient enough to teach me enough so that I could help. When I changed focus to Nexista and stopped contributing to Phing, Hans Lellelid came along and pretty much rewrote the entire package (with others help too!). They also came up with Creole and Propel. When I finally took a moment to revisit Phing recently, I was very impressed, and I hope to be similarly impressed with Creole.</p></p>
<p>Installing Creole
<p>Like Phing, Creole has its own Pear channel, so installation is a breeze:</p>
<pre>
pear install http://creole.phpdb.org/pear/creole-current.tgz</pre>
<p>The Creole documentation instructions jump right to using the creole api directly, but since I am going to try and modify the sqldatasource.php file to connect to creole, I have to take a different route.</p></p>
<ul>    <li>With APC enabled, PHP throws a segmentation fault. </li>    <li>For changing from metabase to creole, must change function calls from prepareQuery to prepateStatement. There are several instances like this. They use different type casting functions, and there is no freeResult or getColumnNames in creole.</li>    <li>There are also auto_increment differences. Creole has a clever native auto_increment solution that seems perfectly fine - Hans even warns people about portability in the docs! Nice. I'm confused about how to actually use the sequence name reference, as I don't have a database that natively supports sequences, and I haven't yet tried getting the id after the query is executed. </li></ul><p>To further explore creole, I will install propel. It has a function to reverse engineer databases from sql to the xml schema format, similar to the function in Metabase. To do this, I plan to STOP USING THE PRODUCTION DATABASE, and instead setup a development database. In that case, if I break something, it won't be a big problem.</p>
<p>Nexista note: two files are involved in this process: sqldatasource.php and query.action.php. The action chooses the datasource file by prepending &quot;datasource.php&quot; with the type, so if it is a sql data source, the file that is loaded is sqldatasource.php. In that case, it makes sense to use creole_sqldatasource.php, pdo_sqldatasource.php, and metabasesqldatasource.php.</p>
<p>**Related Links:
<p><a href="http://www.codecomments.com/archive216-2004-10-270757.html" onclick="window.open(this.href, '_blank'); return false;"><a href="http://www.codecomments.com/archive216-2004-10-270757.html">http://www.codecomments.com/archive216-2004-10-270757.html</a></a></p></p></div></div><div><span>Yearly Indexes: </span><span><a href="/2003/"><span>2003</span></a> </span><span><a href="/2004/"><span>2004</span></a> </span><span><a href="/2006/"><span>2006</span></a> </span><span><a href="/2007/"><span>2007</span></a> </span><span><a href="/2008/"><span>2008</span></a> </span><span><a href="/2009/"><span>2009</span></a> </span><span><a href="/2010/"><span>2010</span></a> </span><span><a href="/2011/"><span>2011</span></a> </span><span><a href="/2012/"><span>2012</span></a> </span><span><a href="/2013/"><span>2013</span></a> </span><span><a href="/2015/"><span>2015</span></a> </span><span><a href="/2019/"><span>2019</span></a> </span><span><a href="/2020/"><span>2020</span></a> </span><span><a href="/2022/"><span>2022</span></a> </span></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2006/09/php-5-frameworks/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9068a959998310636008.js"],"app":["/app-578f356f1ad3d3b2b65e.js"],"component---src-pages-about-js":["/component---src-pages-about-js-738961a9611f9aa4e8d4.js"],"component---src-pages-games-react-nuzaq-js":["/component---src-pages-games-react-nuzaq-js-50d5da494a82a1aaeb8b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3aa2421409c5653df938.js"],"component---src-pages-years-js":["/component---src-pages-years-js-d36f319c6c16ef9e8314.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"],"component---src-templates-year-js":["/component---src-templates-year-js-e8af3ddab603f61c6142.js"]};/*]]>*/</script><script src="/polyfill-9068a959998310636008.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js" async=""></script><script src="/commons-bbb2797d08d51fd1bd26.js" async=""></script><script src="/app-578f356f1ad3d3b2b65e.js" async=""></script><script src="/framework-e27ef662c918f795a5a3.js" async=""></script><script src="/webpack-runtime-910253975eed29c257e8.js" async=""></script></body></html>