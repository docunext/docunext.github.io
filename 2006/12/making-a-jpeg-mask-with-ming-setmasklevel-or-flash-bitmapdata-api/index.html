<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.742409eb857ab2ccca34.css" data-identity="gatsby-global-css">li{margin-right:1rem}h1,li{display:inline-block}h1{font-style:normal;margin-top:0}header{margin-bottom:1.5rem}header ul{float:right;list-style:none}#wrapper{margin:3em auto;max-width:700px;padding:10px}.blogPostDate{color:#333;font-size:8pt;margin-bottom:9px;padding-top:4px}</style><meta name="generator" content="Gatsby 4.4.0"/><title data-react-helmet="true">Making a JPEG Mask with Ming setMaskLevel or Flash BitmapData API</title><link data-react-helmet="true" rel="canonical" href="https://www.docunext.com/2006/12/making-a-jpeg-mask-with-ming-setmasklevel-or-flash-bitmapdata-api/"/><link as="script" rel="preload" href="/webpack-runtime-910253975eed29c257e8.js"/><link as="script" rel="preload" href="/framework-e27ef662c918f795a5a3.js"/><link as="script" rel="preload" href="/app-578f356f1ad3d3b2b65e.js"/><link as="script" rel="preload" href="/commons-bbb2797d08d51fd1bd26.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"/><link as="fetch" rel="preload" href="/page-data/2006/12/making-a-jpeg-mask-with-ming-setmasklevel-or-flash-bitmapdata-api/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2191495970.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4224293195.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="wrapper"><header><ul><li><a href="/about/">About</a></li></ul><a href="/"><h1>Docunext</h1></a></header><hr/><div><h2>Making a JPEG Mask with Ming setMaskLevel or Flash BitmapData API</h2><div class="blogPostDate">December 17th, 2006</div><div><p>I'm trying to use setMaskLevel in Ming, to mask a jpeg, unfortunately I can't find anything useful on the subject. Best bet was gazb's site, but so far I can't understand anything. I don't think this function does what I need it to, I think it simply allows you to set a mask shape from a sprite, but has nothing to do with bitmaps.</p>
<p>Thankfully, Flash 8 has the power. I've been hacking away at it for awhile, getting totally stumped by the 16 and 32 bit color value syntax. Here are a couple of examples:</p>
<p><strong>32-bit hexadecimal</strong></p>
<p>0x00000000 - transparent value</p>
<p>0xFFFFFFFFF - white</p>
<p>0xFF000000 - black</p>
<p>0xFFFFCC00 - red</p>
<p><strong>24-bit hexadecimal</strong></p>
<p>0xFFCC00 - yellow</p>
<p><strong>16-bit hexadecimal</strong>#FFFFFF - white</p>
<p>In the 32-bit hexadecimal color syntax used by Flash 8's bitmap api, the first two characters 0x are just a flag identifier. The next 8 characters are alpha (transparency), red, green, and blue; two characters for each index.</p>
<p><a href="http://www.adobe.com/devnet/flash/articles/image_api_02.html">Adobe's Flash API article on pixel color.</a></p>
<p><a href="http://en.wikipedia.org/wiki/Web_colors">Wikipedia Web Colors Guide</a></p>
<p><strong>Reducing JPEG Artifacts when using transparenct</strong></p>
<p>I'm really excited about the new bitmap features in Flash. Very cool stuff. One thing I like is the ability to convert a jpeg into a generic bitmap, and then set the alpha channel of the pixels within it. This works very well, but due to the way jpegs optimize images, they do not mesh well with alpha layers. To work around this, I've devised a strategy for images on white backgrounds with the goal of making the white transparent.</p>
<ol>
<li>
<p>Make all the pure white fully transparent.</p>
</li>
<li>
<p>Create a loop to scroll through several "close to white" values, setting the alpha layer for each color value.</p>
</li>
<li>
<p>Starting at 100%, reduce the transparency the further away from pure white the values go.</p>
</li>
</ol>
<p>This doesn't result in a perfect anti-aliased solution, but it does work well for its simplicity.</p>
<p><a href="http://theflashblog.com/?p=47">http://theflashblog.com/?p=47</a></p>
<p><a href="http://www.osflash.org/flashcoders/undocumented/flash8#bitmap_display">http://www.osflash.org/flashcoders/undocumented/flash8#bitmap_display</a></p>
<p><a href="http://www.quasimondo.com/archives/000116.php">http://www.quasimondo.com/archives/000116.php</a></p>
<p><a href="http://www.quasimondo.com/archives/000594.php">http://www.quasimondo.com/archives/000594.php</a></p>
<p><a href="http://www.adobe.com/devnet/flash/articles/image_api_05.html">http://www.adobe.com/devnet/flash/articles/image_api_05.html</a></p>
<p><a href="http://www.adobe.com/devnet/flash/articles/image_api_02.html">http://www.adobe.com/devnet/flash/articles/image_api_02.html</a></p>
<p><a href="http://www.nunomira.com/tutorials/removing_movie_clips.php#authoring">http://www.nunomira.com/tutorials/removing_movie_clips.php#authoring</a></p>
<p><a href="http://www.actionscript.org/resources/articles/72/1/OOP-and-inheritance-in-Flash/Page1.html">http://www.actionscript.org/resources/articles/72/1/OOP-and-inheritance-in-Flash/Page1.html</a></p></div></div><div><span>Yearly Indexes: </span><span><a href="/2003/"><span>2003</span></a> </span><span><a href="/2004/"><span>2004</span></a> </span><span><a href="/2006/"><span>2006</span></a> </span><span><a href="/2007/"><span>2007</span></a> </span><span><a href="/2008/"><span>2008</span></a> </span><span><a href="/2009/"><span>2009</span></a> </span><span><a href="/2010/"><span>2010</span></a> </span><span><a href="/2011/"><span>2011</span></a> </span><span><a href="/2012/"><span>2012</span></a> </span><span><a href="/2013/"><span>2013</span></a> </span><span><a href="/2015/"><span>2015</span></a> </span><span><a href="/2019/"><span>2019</span></a> </span><span><a href="/2020/"><span>2020</span></a> </span><span><a href="/2022/"><span>2022</span></a> </span></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2006/12/making-a-jpeg-mask-with-ming-setmasklevel-or-flash-bitmapdata-api/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9068a959998310636008.js"],"app":["/app-578f356f1ad3d3b2b65e.js"],"component---src-pages-about-js":["/component---src-pages-about-js-738961a9611f9aa4e8d4.js"],"component---src-pages-games-react-nuzaq-js":["/component---src-pages-games-react-nuzaq-js-50d5da494a82a1aaeb8b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3aa2421409c5653df938.js"],"component---src-pages-years-js":["/component---src-pages-years-js-d36f319c6c16ef9e8314.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"],"component---src-templates-year-js":["/component---src-templates-year-js-e8af3ddab603f61c6142.js"]};/*]]>*/</script><script src="/polyfill-9068a959998310636008.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js" async=""></script><script src="/commons-bbb2797d08d51fd1bd26.js" async=""></script><script src="/app-578f356f1ad3d3b2b65e.js" async=""></script><script src="/framework-e27ef662c918f795a5a3.js" async=""></script><script src="/webpack-runtime-910253975eed29c257e8.js" async=""></script></body></html>