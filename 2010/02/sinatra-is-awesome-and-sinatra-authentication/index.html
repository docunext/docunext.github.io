<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.742409eb857ab2ccca34.css" data-identity="gatsby-global-css">li{margin-right:1rem}h1,li{display:inline-block}h1{font-style:normal;margin-top:0}header{margin-bottom:1.5rem}header ul{float:right;list-style:none}#wrapper{margin:3em auto;max-width:700px;padding:10px}.blogPostDate{color:#333;font-size:8pt;margin-bottom:9px;padding-top:4px}</style><meta name="generator" content="Gatsby 4.4.0"/><title data-react-helmet="true">Sinatra is Awesome and Sinatra Authentication</title><link data-react-helmet="true" rel="canonical" href="https://www.docunext.com/2010/02/sinatra-is-awesome-and-sinatra-authentication/"/><link as="script" rel="preload" href="/webpack-runtime-910253975eed29c257e8.js"/><link as="script" rel="preload" href="/framework-e27ef662c918f795a5a3.js"/><link as="script" rel="preload" href="/app-578f356f1ad3d3b2b65e.js"/><link as="script" rel="preload" href="/commons-bbb2797d08d51fd1bd26.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"/><link as="fetch" rel="preload" href="/page-data/2010/02/sinatra-is-awesome-and-sinatra-authentication/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2191495970.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4224293195.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="wrapper"><header><ul><li><a href="/about/">About</a></li></ul><a href="/"><h1>Docunext</h1></a></header><hr/><div><h2>Sinatra is Awesome and Sinatra Authentication</h2><div class="blogPostDate">February 20th, 2010</div><div><p>I keep harping on this, but I love the fact that when I approach a task with Sinatra the slate is totally blank. Yes, there are some ready-made solutions with Rack, and Sinatra helpers, but there are no "official" methods.</p>
<p>While some may scoff, I <em>love</em> that aspect of Sinatra.</p>
<p>I'm currently reviewing Sinatra sessions, which are based off of <a href="http://www.docunext.com/">Rack::Sessions</a>, for the purpose of authentication and user interface customization.</p>
<p>Apart from the bare metal authentication mechanisms available from Rack, we are on our own!</p>
<p>Again, some may scoff, but I prefer that I don't have to put the boat in reverse to undo what others found useful to make it so I can setup what I find appropriate.</p>
<p>For example, I used javascript and PHP powered "secure" authentication without having to deal with certificates. (I use the term secure with quotes because somebody smart said that the only secure computer is one that is turned off, encased in concrete and sunk to the bottom of the ocean, and even then its not terribly secure. I agree!)</p>
<p>It probably won't be too difficult to do the same with Sinatra, and that is awesome!</p>
<p>While I have yet to get started on the actual implementation, I was able to figure out how to exclude bots from getting sessioned:</p>
<pre class="sh_ruby">
    unless :agent.to_s =~ /(Slurp|msnbot|Googlebot)/
      use Rack::Session::Memcache, :key => 'notapp', :domain => 'dev-48-gl.example.com', :expire_after => 60 * 60 * 24 * 365, :memcache_server => 'localhost:11211'
    end
</pre>
<p>Untested, of course!</p>
<p>PS - I'm still having no problems with Sinatra 1.0a. I've tried the "settings" method. It didn't work, but that may have been my bad.</p>
<p>PPS - I've now started on a Sinatra helper for RBAC (role based access control). Hopefully I'll get base the authentication system off of an existing class.</p>
<p>PPPS - Eldrad must live!</p></div></div><div><span>Yearly Indexes: </span><span><a href="/2003/"><span>2003</span></a> </span><span><a href="/2004/"><span>2004</span></a> </span><span><a href="/2006/"><span>2006</span></a> </span><span><a href="/2007/"><span>2007</span></a> </span><span><a href="/2008/"><span>2008</span></a> </span><span><a href="/2009/"><span>2009</span></a> </span><span><a href="/2010/"><span>2010</span></a> </span><span><a href="/2011/"><span>2011</span></a> </span><span><a href="/2012/"><span>2012</span></a> </span><span><a href="/2013/"><span>2013</span></a> </span><span><a href="/2015/"><span>2015</span></a> </span><span><a href="/2019/"><span>2019</span></a> </span><span><a href="/2020/"><span>2020</span></a> </span><span><a href="/2022/"><span>2022</span></a> </span></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2010/02/sinatra-is-awesome-and-sinatra-authentication/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9068a959998310636008.js"],"app":["/app-578f356f1ad3d3b2b65e.js"],"component---src-pages-about-js":["/component---src-pages-about-js-738961a9611f9aa4e8d4.js"],"component---src-pages-games-react-nuzaq-js":["/component---src-pages-games-react-nuzaq-js-50d5da494a82a1aaeb8b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3aa2421409c5653df938.js"],"component---src-pages-years-js":["/component---src-pages-years-js-d36f319c6c16ef9e8314.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js"],"component---src-templates-year-js":["/component---src-templates-year-js-e8af3ddab603f61c6142.js"]};/*]]>*/</script><script src="/polyfill-9068a959998310636008.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-cc8ebf9459c2ce2cf980.js" async=""></script><script src="/commons-bbb2797d08d51fd1bd26.js" async=""></script><script src="/app-578f356f1ad3d3b2b65e.js" async=""></script><script src="/framework-e27ef662c918f795a5a3.js" async=""></script><script src="/webpack-runtime-910253975eed29c257e8.js" async=""></script></body></html>